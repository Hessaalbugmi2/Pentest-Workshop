<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <script src="https://unpkg.com/@dotlottie/player-component@latest/dist/dotlottie-player.mjs" type="module"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Red Team Leaderboard Results</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@200;300;400;500&family=Press+Start+2P&display=swap" rel="stylesheet">
    <style>
        :root {
            --text-color: #e34242;
            --header-color: #f32424;
            --accent-color: #FF0000;
            --font-stack: 'Orbitron', serif;
            --font-size: 14px;
            --first-place-color: #FFD700;
            --second-place-color: #ab1616;
            --third-place-color: #630606;
        }

        body {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100vh;
            overflow: hidden;
            background: url('Background.jpg') no-repeat center center fixed;
            background-size: cover;
            color: var(--text-color);
            font-family: var(--font-stack);
            font-size: var(--font-size);
            text-align: center;
            position: relative;
        }

        h1 {
            margin: 40px 0 20px;
            color: var(--header-color);
            font-size: 2em;
            animation: pulse 2s infinite, moveUpDown 3s infinite;
        }

        .main-container {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: 30px;
            position: relative;
        }

        .lottie-container-left {
            position: absolute;
            left: 10px;
            top: 50%;
            transform: translateY(-50%);
        }

        .lottie-container-right {
            position: absolute;
            right: 10px;
            top: 50%;
            transform: translateY(-50%);
        }

        .top-three-container {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 0 auto;
        }

        .top-three-container>div {
            border: 3px solid var(--accent-color);
            border-radius: 10px;
            padding: 10px;
            width: 120px;
            height: 180px;
            background: #ffffff;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            transition: all 0.2s ease-in-out;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        .top-three-container>div:hover {
            transform: translateY(-10px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3);
        }

        .top-three-container>div img {
            width: 80px;
            height: auto;
        }

        .top-three-container>div h2 {
            margin: 5px 0;
            color: var(--header-color);
            font-size: 1.1em;
        }

        .top-three-container>div p {
            margin: 2px 0;
            font-size: 0.9em;
        }

        .first-place {
            border-color: var(--first-place-color);
        }

        .second-place {
            border-color: var(--second-place-color);
        }

        .third-place {
            border-color: var(--third-place-color);
        }

        .center-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-bottom: 40px;
        }

        table {
            width: 80%;
            margin: 0 auto 40px;
            border-collapse: collapse;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }

        th {
            background-color: var(--accent-color);
            color: #FFFFFF;
            padding: 15px;
            text-align: center;
            font-size: 1.1em;
        }

        td {
            padding: 10px;
            text-align: center;
        }

        tr:nth-child(even) {
            background-color: #FFE5E5;
        }

        footer {
            margin-top: 40px;
            padding: 20px;
            color: #fdfffe;
            text-align: center;
        }

        footer p {
            margin: 0;
            font-size: 0.9em;
        }

        @keyframes pulse {
            0% {
                transform: scale(1);
                text-shadow: 0 0 10px #e67213, 0 0 20px #e67213, 0 0 30px #e67213;
            }

            50% {
                transform: scale(1.05);
                text-shadow: 0 0 20px #e06c6c, 0 0 30px #e06c6c, 0 0 40px #e06c6c;
            }

            100% {
                transform: scale(1);
                text-shadow: 0 0 10px #b04c0d, 0 0 20px #b04c0d, 0 0 30px #b04c0d;
            }
        }

        /* Binary animation */
        .binary-animation {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            pointer-events: none;
            z-index: -1;
        }

        .binary-animation div {
            position: absolute;
            color: rgba(255, 0, 0, 0.8);
            font-size: 1rem;
            animation: moveBinary 10s linear infinite;
        }

        @keyframes moveBinary {
            0% {
                transform: translateY(0);
            }

            100% {
                transform: translateY(100vh);
            }
        }

        /* First Blood Animation */
        .first-blood-animation {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: #000000;
            font-size: 3em;
            font-weight: bold;
            text-shadow: 0 0 10px #ff0000, 0 0 20px #ff0000, 0 0 30px #ff0000;
            opacity: 0;
            animation: firstBloodFade 3s forwards;
            z-index: 1000;
        }

        @keyframes firstBloodFade {
            0% {
                opacity: 1;
                transform: translate(-50%, -50%) scale(1);
            }

            50% {
                opacity: 1;
                transform: translate(-50%, -50%) scale(1.1);
            }

            100% {
                opacity: 0;
                transform: translate(-50%, -50%) scale(1.2);
            }
        }

        @media (max-width: 768px) {
            .main-container {
                flex-direction: column;
                gap: 10px;
            }

            .lottie-container-left,
            .lottie-container-right {
                position: static;
                transform: none;
                margin-bottom: 20px;
            }

            .top-three-container {
                flex-direction: column;
                gap: 10px;
            }

            .top-three-container>div {
                width: 90%;
                margin: 0 auto;
            }

            table {
                width: 95%;
            }
        }

        @media (max-width: 480px) {
            h1 {
                font-size: 1.5em;
            }

            th,
            td {
                padding: 8px;
            }
        }
    </style>
</head>

<body>
    <script type="module">
        import {
            initializeApp
        } from "https://www.gstatic.com/firebasejs/9.6.10/firebase-app.js";
        import {
            getDatabase,
            ref,
            query,
            orderByChild,
            onValue
        } from "https://www.gstatic.com/firebasejs/9.6.10/firebase-database.js";

        const firebaseConfig = {
            apiKey: "YOUR_API_KEY",
            authDomain: "YOUR_AUTH_DOMAIN",
            databaseURL: "YOUR_DATABASE_URL",
            projectId: "YOUR_PROJECT_ID",
            storageBucket: "YOUR_STORAGE_BUCKET",
            messagingSenderId: "YOUR_MESSAGING_SENDER_ID",
            appId: "YOUR_APP_ID"
        };

        const app = initializeApp(firebaseConfig);
        const database = getDatabase(app);

        const dbRef = ref(database, 'Pentest');
        const pentestQuery = query(dbRef, orderByChild('points'));

        let firstBloodAwarded = false;

        onValue(pentestQuery, (snapshot) => {
            const entries = [];
            snapshot.forEach((childSnapshot) => {
                const entry = childSnapshot.val();
                if (entry.hasOwnProperty('points')) {
                    entries.push(entry);
                }
            });

            entries.sort((a, b) => b.points - a.points);

            const tableBody = document.querySelector('#leaderboard tbody');
            tableBody.innerHTML = '';

            entries.forEach((entry, index) => {
                const row = tableBody.insertRow();
                const rankCell = row.insertCell(0);
                const nameCell = row.insertCell(1);
                const scoreCell = row.insertCell(2);

                rankCell.textContent = index + 1;
                nameCell.textContent = entry.name;
                scoreCell.textContent = entry.points;
            });

            ['first', 'second', 'third'].forEach((place, index) => {
                document.getElementById(`${place}-name`).textContent = entries[index]?.name ?? '-';
                document.getElementById(`${place}-score`).textContent = entries[index]?.points ?? '0';
            });

            // Show First Blood Animation
            if (!firstBloodAwarded && entries.length > 0 && entries[0].points > 0) {
                firstBloodAwarded = true;
                showFirstBloodAnimation(entries[0].name);
            }
        });

        function showFirstBloodAnimation(playerName) {
            const firstBloodDiv = document.createElement('div');
            firstBloodDiv.className = 'first-blood-animation';
            firstBloodDiv.textContent = `First Blood: ${playerName}`;
            document.body.appendChild(firstBloodDiv);

            // Play first blood sound
            const firstBloodSound = document.getElementById('firstBloodSound');
            if (firstBloodSound) {
                firstBloodSound.play().then(() => {
                    console.log('First Blood sound played successfully.');
                }).catch(error => {
                    console.error("Error playing First Blood sound:", error);
                });
            } else {
                console.error("First Blood sound element not found.");
            }

            setTimeout(() => {
                firstBloodDiv.remove();
            }, 4000);
        }
    </script>

    <img src="REDPhoto.png" alt="Leaderboard Top Image" style="width:100%; height:auto; max-width:1920px; margin-top:10px;">
    <h1>🏆 Red Team Top Hackers 🏆</h1>
    <div class="main-container">
        <div class="lottie-container-left">
            <dotlottie-player src="https://lottie.host/00e299fa-b5cf-4490-b541-00d4321f48af/hobH36d3bA.json" background="transparent" speed="1" style="width: 250px; height: 250px;" loop autoplay></dotlottie-player>
        </div>
        <div class="top-three-container">
            <div class="second-place">
                <img src="new2ST.png" alt="Second Place">
                <h2>2nd Place</h2>
                <p id="second-name">-</p>
                <p id="second-score">-</p>
            </div>
            <div class="first-place">
                <img src="new1ST.png" alt="First Place">
                <h2>1st Place</h2>
                <p id="first-name">-</p>
                <p id="first-score">-</p>
            </div>
            <div class="third-place">
                <img src="New3ST.png" alt="Third Place">
                <h2>3rd Place</h2>
                <p id="third-name">-</p>
                <p id="third-score">-</p>
            </div>
        </div>
    </div>
    <div class="center-container">
        <table id="leaderboard">
            <tbody>
                <!-- Leaderboard rows will be populated here -->
            </tbody>
        </table>
    </div>
    <audio id="backgroundMusic" loop>
        <source src="video.mp3" type="audio/mp3">
        Your browser does not support the audio element.
    </audio>
    <!-- First Blood Sound -->
    <audio id="firstBloodSound" preload="auto">
        <source src="first-blood.mp3" type="audio/mp3">
        Your browser does not support the audio element.
    </audio>
    <footer>
        <p>© 2024, Hessa Albaqami. All rights reserved.</p>
        <img src="data:image/png;base64,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">
    </footer>
    <div class="binary-animation" id="binaryAnimation"></div>
    <script>
        const binaryAnimation = document.getElementById('binaryAnimation');
        const createBinaryDiv = (content, left) => {
            const div = document.createElement('div');
            div.textContent = content;
            div.style.left = left;
            div.style.animationDelay = `${Math.random() * 5}s`;
            div.style.animationDuration = `${5 + Math.random() * 10}s`;
            binaryAnimation.appendChild(div);
        };

        for (let i = 0; i < 100; i++) {
            createBinaryDiv(Math.random() > 0.5 ? '0' : '1', `${Math.random() * 100}vw`);
        }

        document.body.addEventListener('click', function () {
            var audio = document.getElementById('backgroundMusic');
            if (audio.paused) {
                audio.play();
            }
        }, {
            once: true
        });
    </script>
</body>

</html>
